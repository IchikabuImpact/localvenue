/*
  localvenue mockup stylesheet
  - Clean, readable UI focused on horse-racing analytics
  - Mobile-first, responsive
  - Light/Dark via prefers-color-scheme
  - Print-friendly tables
*/

:root {
  --bg: #0b0c10;
  --panel: #111318;
  --elev-1: #161a21;
  --elev-2: #1c212a;
  --text: #e5e7eb;
  --muted: #9aa3b2;
  --link: #7cc3ff;
  --ok: #34d399;
  --warn: #f59e0b;
  --danger: #ef4444;
  --accent: #60a5fa;
  --border: #2a2f39;
  --chip: #222834;
  --shadow: 0 1px 2px rgba(0,0,0,.2), 0 8px 24px rgba(0,0,0,.22);
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f6f7fb;
    --panel: #ffffff;
    --elev-1: #ffffff;
    --elev-2: #fafbff;
    --text: #0f172a;
    --muted: #475569;
    --link: #0ea5e9;
    --ok: #16a34a;
    --warn: #d97706;
    --danger: #dc2626;
    --accent: #2563eb;
    --border: #e5e7eb;
    --chip: #f1f5f9;
    --shadow: 0 1px 2px rgba(0,0,0,.05), 0 8px 24px rgba(2,6,23,.08);
  }
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.6;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img { max-width: 100%; display: block; }
a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }

.container { width: min(1200px, 100%); margin: 0 auto; padding: 16px; }

/* Layout */
.header {
  position: sticky; top: 0; z-index: 40;
  background: color-mix(in oklab, var(--panel) 92%, transparent);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(8px);
}
.header__inner { display: flex; gap: 12px; align-items: center; padding: 12px 16px; }
.brand { font-weight: 800; letter-spacing: .2px; }
.brand .sub { font-weight: 500; opacity: .7; font-size: .85rem; }

.nav { margin-left: auto; display: flex; gap: 8px; }
.nav a { padding: 8px 12px; border-radius: 10px; display: inline-flex; align-items: center; gap: 8px; border: 1px solid transparent; }
.nav a[aria-current="page"] { background: var(--chip); border-color: var(--border); }

.main { padding: 16px; }
.grid {
  display: grid; gap: 16px;
  grid-template-columns: 1fr;
}
@media (min-width: 768px) {
  .grid { grid-template-columns: 1.4fr .8fr; }
}

.card {
  background: var(--elev-1);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
}
.card__header { padding: 14px 16px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.card__title { font-size: 1.05rem; font-weight: 700; }
.card__actions { display: flex; gap: 8px; }
.card__body { padding: 16px; }

/* Utilities */
.row { display: flex; gap: 12px; align-items: center; }
.row--wrap { flex-wrap: wrap; }
.gap-8 { gap: 8px; } .gap-12 { gap: 12px; } .gap-16 { gap: 16px; }
.mt-8{margin-top:8px} .mt-12{margin-top:12px} .mt-16{margin-top:16px} .mb-8{margin-bottom:8px}
.badge { padding: 2px 8px; border-radius: 999px; font-size: .78rem; border: 1px solid var(--border); background: var(--chip); }
.badge--ok { background: color-mix(in oklab, var(--ok) 18%, var(--chip)); }
.badge--warn { background: color-mix(in oklab, var(--warn) 18%, var(--chip)); }
.badge--danger { background: color-mix(in oklab, var(--danger) 18%, var(--chip)); }
.chip { padding: 6px 10px; border-radius: 999px; background: var(--chip); border: 1px solid var(--border); font-size: .85rem; }
.kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Noto Sans Mono JP", monospace; padding: 2px 6px; border: 1px solid var(--border); border-bottom-width: 3px; background: var(--panel); border-radius: 6px; font-size: .85rem; }

/* Buttons */
.btn { appearance: none; border: 1px solid var(--border); background: var(--panel); color: var(--text); border-radius: 12px; padding: 8px 12px; cursor: pointer; font-weight: 600; }
.btn:hover { filter: brightness(1.06); }
.btn--primary { background: var(--accent); border-color: color-mix(in oklab, var(--accent) 70%, var(--border)); color: white; }
.btn--ghost { background: transparent; }
.btn--danger { background: var(--danger); color: white; border-color: color-mix(in oklab, var(--danger) 70%, var(--border)); }

/* Forms */
.input, .select { width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid var(--border); background: var(--panel); color: var(--text); }
.input:focus, .select:focus { outline: 2px solid color-mix(in oklab, var(--accent) 35%, transparent); outline-offset: 1px; }
.label { font-size: .85rem; color: var(--muted); }

.toolbar { display: flex; gap: 8px; flex-wrap: wrap; }
.toolbar .input { width: 260px; }

/* Tables: race list & results */
.table { width: 100%; border-collapse: collapse; font-variant-numeric: tabular-nums lining-nums; }
.table th, .table td { padding: 10px 12px; border-bottom: 1px solid var(--border); text-align: left; }
.table th { font-size: .86rem; color: var(--muted); font-weight: 600; }
.table tr:hover { background: color-mix(in oklab, var(--chip) 50%, transparent); }
.table .num { text-align: right; }
.table .center { text-align: center; }

/* Condensed variant */
.table--dense th, .table--dense td { padding: 6px 8px; font-size: .92rem; }

/* Sticky header table wrapper */
.table-wrap { max-height: 60vh; overflow: auto; border: 1px solid var(--border); border-radius: 14px; background: var(--elev-2); }
.table-wrap table { width: 100%; }
.table-wrap thead th { position: sticky; top: 0; background: var(--elev-2); z-index: 1; }

/* INDEX page specific */
.index-summary { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
@media (min-width: 640px) { .index-summary { grid-template-columns: repeat(4, 1fr); } }
.metric {
  background: var(--elev-1); border: 1px solid var(--border); border-radius: 14px; padding: 12px; box-shadow: var(--shadow);
}
.metric .label { font-size: .8rem; color: var(--muted); }
.metric .value { font-size: 1.3rem; font-weight: 800; }
.metric .delta { font-size: .82rem; }
.metric .delta.ok { color: var(--ok); }
.metric .delta.bad { color: var(--danger); }

.race-list .course { font-weight: 700; }
.race-list .date { color: var(--muted); font-size: .86rem; }

/* DETAIL page header */
.race-header { display: grid; gap: 10px; grid-template-columns: 1fr; }
@media (min-width: 720px) { .race-header { grid-template-columns: 1fr auto; align-items: start; } }
.race-title { font-size: 1.4rem; font-weight: 800; }
.race-meta { display: flex; flex-wrap: wrap; gap: 8px; color: var(--muted); }

.pills { display: flex; flex-wrap: wrap; gap: 6px; }
.pill { border: 1px dashed var(--border); padding: 4px 8px; border-radius: 999px; font-size: .82rem; background: var(--chip); }

/* Tabs */
.tabs { display: flex; gap: 8px; border-bottom: 1px solid var(--border); }
.tab { padding: 10px 12px; border: 1px solid transparent; border-bottom: 2px solid transparent; font-weight: 600; color: var(--muted); }
.tab[aria-selected="true"] { color: var(--text); border-color: var(--border); border-bottom-color: var(--accent); background: var(--elev-2); border-top-left-radius: 12px; border-top-right-radius: 12px; }

/* Chart scaffold */
.chart-card { background: var(--elev-1); border: 1px solid var(--border); border-radius: 16px; padding: 12px; box-shadow: var(--shadow); }
.chart { width: 100%; height: 280px; display: block; }

/* Bar-like visualization with pure CSS (fallback/placeholder) */
.barlist { display: grid; gap: 8px; }
.bar { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 10px; }
.bar .label { font-size: .9rem; color: var(--muted); }
.bar .track { height: 10px; background: var(--chip); border-radius: 999px; overflow: hidden; border: 1px solid var(--border); }
.bar .fill { height: 100%; width: var(--value, 0%); background: var(--accent); }
.bar .value { font-variant-numeric: tabular-nums; }

/* Pagination */
.pagination { display: flex; gap: 6px; align-items: center; justify-content: flex-end; padding-top: 8px; }
.page-btn { padding: 6px 10px; border-radius: 10px; border: 1px solid var(--border); background: var(--panel); }
.page-btn[aria-current="page"] { background: var(--chip); font-weight: 700; }

/* Toast/notice */
.notice { display: grid; grid-template-columns: 24px 1fr auto; gap: 12px; align-items: center; padding: 10px 12px; border: 1px solid var(--border); border-radius: 12px; background: color-mix(in oklab, var(--chip) 70%, transparent); }
.notice--ok { border-color: color-mix(in oklab, var(--ok) 50%, var(--border)); }
.notice--warn { border-color: color-mix(in oklab, var(--warn) 50%, var(--border)); }
.notice--danger { border-color: color-mix(in oklab, var(--danger) 50%, var(--border)); }

/* Code blocks */
pre, code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Noto Sans Mono JP", monospace; }
pre { padding: 12px; background: var(--panel); border: 1px solid var(--border); border-radius: 12px; overflow: auto; }
code.inline { padding: 2px 6px; border-radius: 6px; background: var(--chip); border: 1px solid var(--border); }

/* Footer */
.footer { margin-top: 24px; padding: 16px; color: var(--muted); font-size: .9rem; border-top: 1px solid var(--border); }

/* Loading skeleton */
.skeleton { border-radius: 8px; background: linear-gradient(90deg, color-mix(in oklab, var(--chip) 80%, transparent) 25%, color-mix(in oklab, var(--chip) 35%, transparent) 50%, color-mix(in oklab, var(--chip) 80%, transparent) 75%); background-size: 400% 100%; animation: shimmer 1.6s infinite; height: 12px; }
@keyframes shimmer { 0% { background-position: 0 0; } 100% { background-position: -400% 0; } }

/* Print styles */
@media print {
  .header, .nav, .btn, .toolbar, .pagination, .notice { display: none !important; }
  .container { padding: 0; }
  body { background: white; color: black; }
  .card, .metric, .chart-card, .table-wrap { box-shadow: none; border-color: #ccc; }
  a { color: black; text-decoration: underline; }
}

/* Helper color tags for course/track & bet types */
.tag { padding: 2px 6px; border-radius: 6px; font-size: .78rem; border: 1px solid var(--border); }
.tag--turf { background: #e6ffe6; color: #065f46; }
.tag--dirt { background: #fff1e6; color: #7c2d12; }
.tag--synthetic { background: #e6f7ff; color: #0c4a6e; }
.tag--win { background: #e0f2fe; color: #1e3a8a; }
.tag--place { background: #fef9c3; color: #854d0e; }
.tag--quinella { background: #fae8ff; color: #6b21a8; }

/* Compact list styles for race menu */
.list { list-style: none; padding: 0; margin: 0; }
.list li { padding: 10px 12px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; gap: 10px; }
.list li:hover { background: color-mix(in oklab, var(--chip) 50%, transparent); }

/* Sticky side panel */
.aside { position: sticky; top: 68px; display: grid; gap: 12px; }

/* Small progress badges */
.progress { display: inline-grid; grid-template-columns: auto auto; gap: 6px; align-items: center; padding: 2px 8px; border-radius: 999px; background: var(--chip); border: 1px solid var(--border); font-size: .8rem; }
.progress .bar { width: 84px; height: 6px; border-radius: 999px; overflow: hidden; background: color-mix(in oklab, var(--chip) 70%, transparent); border: 1px solid var(--border); }
.progress .bar i { display: block; height: 100%; width: var(--value, 0%); background: var(--ok); }

/* Simple table status coloring */
.status-ok { color: var(--ok); font-weight: 700; }
.status-warn { color: var(--warn); font-weight: 700; }
.status-danger { color: var(--danger); font-weight: 700; }

/* Keyboard help footer */
.kb-help { font-size: .88rem; color: var(--muted); }

/* Simple tooltip */
.tooltip { position: relative; cursor: help; border-bottom: 1px dotted var(--border); }
.tooltip:hover::after {
  content: attr(data-tip);
  position: absolute; left: 0; top: 100%; margin-top: 6px; white-space: nowrap; padding: 6px 8px; background: var(--panel); border: 1px solid var(--border); border-radius: 8px; box-shadow: var(--shadow); color: var(--text); z-index: 50;
}

/* Visually-hidden for a11y */
.visually-hidden { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* Table column sizing helpers */
.col-xs { width: 56px; }
.col-sm { width: 96px; }
.col-md { width: 160px; }
.col-lg { width: 220px; }

/* Footer links */
.footer-links { display: flex; gap: 10px; flex-wrap: wrap; }
.footer-links a { padding: 4px 8px; border-radius: 8px; border: 1px solid var(--border); background: var(--chip); }
